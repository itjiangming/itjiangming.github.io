(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{640:function(t,s,n){"use strict";n.r(s);var a=n(5),p=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[n("strong",[t._v("UI 控件的使用是 Android 界面构建的重要组成部分")]),t._v("，其中 Android 提供了很多基础的控件，如："),n("code",[t._v("TextView")]),t._v("、"),n("code",[t._v("Button")]),t._v("、"),n("code",[t._v("ImageView")]),t._v("、"),n("code",[t._v("EditText")]),t._v("、"),n("code",[t._v("ListView")]),t._v("等等常用的控件，我们可以直接使用或者组合新的控件使用。")]),t._v(" "),n("p",[n("strong",[t._v("开始之前先来介绍和了解一下 Android 的 UI 中常用的布局大小尺寸相关单位的知识。")])]),t._v(" "),n("p",[t._v("由于 Android 厂商非常多，各种尺寸的 android 手机、平板、设备层出不穷，Google 公司为了解决分辨率过多的问题，在 Android 的开发文档中定义了"),n("code",[t._v("px")]),t._v("、"),n("code",[t._v("dip（dp）")]),t._v("、"),n("code",[t._v("sp")]),t._v("，方便开发者适配不同分辨率的Android设备，对于一名合格程序员来说理解并掌握适配是必须的。")]),t._v(" "),n("p",[n("strong",[t._v("基础概念 :")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("名称")]),t._v(" "),n("th",[t._v("解释")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("px")]),t._v(" "),n("td",[t._v("像素点，一个像素点为1px")])]),t._v(" "),n("tr",[n("td",[t._v("dp")]),t._v(" "),n("td",[t._v("即dip，像素密度")])]),t._v(" "),n("tr",[n("td",[t._v("sp")]),t._v(" "),n("td",[t._v("同dp，但是可以根据系统字体偏好缩放")])]),t._v(" "),n("tr",[n("td",[t._v("dpi")]),t._v(" "),n("td",[t._v("每英寸的像素数，也叫做屏幕密度")])])])]),t._v(" "),n("p",[t._v("先来了解一下dpi，dpi 全称是 "),n("code",[t._v("dots per inch")]),t._v("，对角线每英寸的像素点的个数，也是"),n("strong",[t._v("衡量设备显示精细度效果的重要参数")]),t._v("。")]),t._v(" "),n("p",[t._v("计算公式如下：")]),t._v(" "),n("p",[n("img",{attrs:{src:"/img/android/base/ui_control_dimension_unit_dpi.png",alt:"dpi计算公式示意图"}})]),t._v(" "),n("blockquote",[n("p",[t._v("height和width即为长宽的像素，平方和即为对角线的像素个数，size即我们常说的5寸手机、4寸手机中的5和4，即对角线的长度。所以，一同尺寸的手机，分辨率越高，dpi越高。分辨率相同，屏幕对角线英寸数越小，dpi越高。")])]),t._v(" "),n("p",[t._v("dp 也叫 dip，是 "),n("code",[t._v("device independent pixels")]),t._v("，设备不依赖像素的一个单位。安卓开发用的单位，官方规定：当设备的 dpi 为 160dpi 时，1dp=1px。")]),t._v(" "),n("p",[t._v("计算公式如下：")]),t._v(" "),n("p",[n("img",{attrs:{src:"/img/android/base/ui_control_dimension_unit_dp&px.png",alt:"px&dp计算公式示意图"}})]),t._v(" "),n("blockquote",[n("p",[t._v("如：将一个控件设置长度为1dp，那么在160dpi上该控件长度为1px，在240dpi的屏幕上该控件的长度为1*240/160=1.5个像素点。")])]),t._v(" "),n("p",[t._v("px 和 dp之间的关系，android中的dp在渲染前会将dp转为px，计算公式：")]),t._v(" "),n("ul",[n("li",[t._v("px = density * dp;")]),t._v(" "),n("li",[t._v("density = dpi / 160;")]),t._v(" "),n("li",[t._v("px = dp * (dpi / 160);")])]),t._v(" "),n("p",[t._v("其中"),n("strong",[t._v("density")]),t._v(" 在每个设备上都是固定的，"),n("strong",[t._v("DPI / 160 = density")]),t._v("，"),n("strong",[t._v("屏幕的总 px 宽度 / 屏幕的总 dp 宽度 = density（可以理解1dp中包含像素的个数）")])]),t._v(" "),n("p",[n("strong",[t._v("Android 中 px 与 dp 互转方式：")])]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n*  dp 转成为 px\n*/")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("dip2px")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Context")]),t._v(" context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),t._v(" dpValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),t._v(" scale "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getResources")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDisplayMetrics")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("density"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dpValue "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" scale "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5f")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n*  px 转成为 dp\n*/")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("px2dip")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Context")]),t._v(" context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),t._v(" pxValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),t._v(" scale "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getResources")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDisplayMetrics")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("density"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pxValue "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" scale "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5f")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("blockquote",[n("p",[t._v("之所以后面加上0.5f是因为 float 类型的 1.1 和1.9 强转成int类型后，会失去精准度变成 int类型的1， 而如果咱们想四舍五入的话，把他们都加上0.5f，这样转换出来的结果就是：")]),t._v(" "),n("p",[t._v("1.4 + 0.5 = 1.9 转为int 还是1，而1.5 + 0.5 = 2.0 转换成int后就是2，正好是四舍五入，这样就保证值相对精准。")])]),t._v(" "),n("p",[t._v("接下来篇章将主要来介绍 Android 的常用控件和使用。")])])}),[],!1,null,null,null);s.default=p.exports}}]);