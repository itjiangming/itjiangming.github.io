(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{539:function(t,a,e){"use strict";e.r(a);var s=e(2),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("如果您是首次接触 Android，并希望开始编写代码，请从下面"),e("strong",[t._v("构建项目")]),t._v("开始了解相关知识。")]),t._v(" "),e("h2",{attrs:{id:"构建项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#构建项目"}},[t._v("#")]),t._v(" 构建项目")]),t._v(" "),e("p",[t._v("本节将介绍如何使用 Android Studio 创建新的 Android 项目，并介绍该项目中的相关的一些工程文件。")]),t._v(" "),e("p",[t._v("如需创建新的 Android 项目，请按以下步骤操作：")]),t._v(" "),e("ol",[e("li",[t._v("安装最新版本的 "),e("a",{attrs:{href:"https://developer.android.google.cn/studio/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android Studio"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("li",[t._v("在 "),e("strong",[t._v("Welcome to Android Studio")]),t._v(" 窗口中，点击 "),e("strong",[t._v("Create New Project")]),t._v("。")])]),t._v(" "),e("p",[e("img",{attrs:{src:"/img/android/base/as-create-project-1.png",alt:"创建一个新的应用项目"}})]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[t._v("在 "),e("strong",[t._v("Select a Project Template")]),t._v(" 窗口中，选择 "),e("strong",[t._v("Empty Activity")]),t._v("，然后点击 "),e("strong",[t._v("Next")]),t._v("。")])]),t._v(" "),e("p",[e("img",{attrs:{src:"/img/android/base/as-create-project-2.png",alt:"选择项目模板"}})]),t._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[e("p",[t._v("在 Configure your project 窗口中，完成以下操作：")]),t._v(" "),e("ul",[e("li",[t._v("在 "),e("strong",[t._v("Name")]),t._v(" 字段中输入项目的名称。")]),t._v(" "),e("li",[t._v("在 "),e("strong",[t._v("Package name")]),t._v(" 字段中输入项目包名。")]),t._v(" "),e("li",[t._v("如果您想将项目放在其他文件夹中，请更改其 "),e("strong",[t._v("Save")]),t._v(" 位置。")]),t._v(" "),e("li",[t._v("从 "),e("strong",[t._v("Language")]),t._v(" 下拉菜单中选择 "),e("strong",[t._v("Java")]),t._v(" 或 "),e("strong",[t._v("Kotlin")]),t._v("。")]),t._v(" "),e("li",[t._v("在 "),e("strong",[t._v("Minimum SDK")]),t._v(" 字段中选择您的应用支持的最低 Android 版本。")]),t._v(" "),e("li",[t._v("如果您的应用需要旧版库支持，请选中 "),e("strong",[t._v("Use legacy android.support libraries")]),t._v(" 复选框。")]),t._v(" "),e("li",[t._v("其他选项保持原样。")])])]),t._v(" "),e("li",[e("p",[t._v("点击 "),e("strong",[t._v("Finish")]),t._v("。")])])]),t._v(" "),e("p",[e("img",{attrs:{src:"/img/android/base/as-create-project-3.png",alt:"填写项目相关信息和配置"}})]),t._v(" "),e("ol",{attrs:{start:"6"}},[e("li",[t._v("经过一段时间的处理后，Android Studio 创建的项目主窗口会出现。")])]),t._v(" "),e("p",[e("img",{attrs:{src:"/img/android/base/as-create-project-4.png",alt:"项目工程主界面"}})]),t._v(" "),e("h2",{attrs:{id:"项目结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#项目结构"}},[t._v("#")]),t._v(" 项目结构")]),t._v(" "),e("p",[t._v("通过上面的步骤创建了一个新的Android 应用项目，下面花一点时间了解一下其中的重要的文件。")]),t._v(" "),e("p",[t._v("首先，确保已打开 "),e("strong",[t._v("Project")]),t._v(" 窗口（依次选择 "),e("strong",[t._v("View > Tool Windows > Project")]),t._v("），并从该窗口顶部的下拉列表中选择 Android 视图。随后，您可以看到以下主要的项目结构：")]),t._v(" "),e("p",[e("img",{attrs:{src:"/img/android/base/as-project-structrue.png",alt:"项目结构"}})]),t._v(" "),e("h3",{attrs:{id:"主要的结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主要的结构"}},[t._v("#")]),t._v(" 主要的结构")]),t._v(" "),e("p",[t._v("如果选择 "),e("strong",[t._v("Project")]),t._v(" 视图，您可以看到更多文件和目录。其中最重要的目录如下：")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("module-name/")]),t._v("    项目工程目录。")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("build/")]),t._v("  包含构建输出。")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("libs/")]),t._v("   包含专用库。")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("src/")]),t._v("    包含相应模块在以下子目录中的所有代码和资源文件：")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("androidTest/")]),t._v("    包含在 Android 设备上运行的插桩测试的代码。如需了解详情，请参阅 "),e("a",{attrs:{href:"https://developer.android.google.cn/tools/testing",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android 测试文档"),e("OutboundLink")],1),t._v("。")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("main/")]),t._v("   包含“主”源代码集文件：所有构建变体共享的 Android 代码和资源（其他构建变体的文件位于同级目录中，例如“debug”构建类型的文件位于 "),e("code",[t._v("src/debug/")]),t._v(" 中）。")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("AndroidManifest.xml")]),t._v(" 描述应用及其各个组件的性质。如需了解详情，请参阅 "),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/manifest/manifest-intro",target:"_blank",rel:"noopener noreferrer"}},[t._v("AndroidManifest.xml"),e("OutboundLink")],1),t._v(" 文档。")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("java/")]),t._v("   包含 Java 源代码。")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("jni/")]),t._v("    包含使用 Java 原生接口 (JNI) 的原生代码。如需了解详情，请参阅 "),e("a",{attrs:{href:"https://developer.android.google.cn/ndk",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android NDK 文档"),e("OutboundLink")],1),t._v("。")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("res/")]),t._v("    包含应用资源，例如可绘制对象文件、布局文件和界面字符串。如需了解详情，请参阅"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources",target:"_blank",rel:"noopener noreferrer"}},[t._v("应用资源"),e("OutboundLink")],1),t._v("。")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("assets/")]),t._v(" 包含应按原样编译为 "),e("code",[t._v(".apk")]),t._v(" 文件的文件。您可以使用 URI 按照与典型文件系统相同的方式导航此目录，并使用 "),e("code",[t._v("AssetManager")]),t._v(" 以字节流的形式读取文件。例如，此目录非常适合存储纹理和游戏数据。")])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("test/")]),t._v("   包含在主机 JVM 上运行的本地测试代码。")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("build.gradle")]),t._v("（模块）    这定义了特定于模块的构建配置。")])])])])]),t._v(" "),e("p",[e("code",[t._v("build.gradle")]),t._v("（项目）  这定义了适用于所有模块的构建配置。该文件是项目不可或缺的一部分，因此您应该将其与所有其他源代码一起保留在修订版本控制系统中。 如需了解其他构建文件，请参阅"),e("a",{attrs:{href:"https://developer.android.google.cn/studio/build",target:"_blank",rel:"noopener noreferrer"}},[t._v("配置构建"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("h3",{attrs:{id:"重要的文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重要的文件"}},[t._v("#")]),t._v(" 重要的文件")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("app > src > main > java > xxx > MainActivity")])]),t._v(" "),e("p",[t._v("这是主 activity。它是应用的入口点。当您构建和运行应用时，系统会启动此 "),e("code",[t._v("Activity")]),t._v(" 的实例并加载其布局。")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("app > src > main > res > layout > activity_main.xml")])]),t._v(" "),e("p",[t._v("此 XML 文件定义了 activity 界面 (UI) 的布局。它包含一个 "),e("code",[t._v("TextView")]),t._v(" 元素，其中具有“Hello, World!”文本")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("app > src > main> AndroidManifest.xml")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/manifest/manifest-intro",target:"_blank",rel:"noopener noreferrer"}},[t._v("清单文件"),e("OutboundLink")],1),t._v("描述应用的基本特性并定义其每个组件。")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("build.gradle")])]),t._v(" "),e("p",[t._v("有两个使用此名称的文件：一个针对项目“Project”，另一个针对应用模块“Module: app”。每个模块均有自己的 "),e("code",[t._v("build.gradle")]),t._v(" 文件，但此项目当前仅有一个模块。使用每个模块的 "),e("code",[t._v("build.gradle")]),t._v(" 文件控制 "),e("a",{attrs:{href:"https://developer.android.google.cn/studio/releases/gradle-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gradle 插件"),e("OutboundLink")],1),t._v("构建应用的方式。如需详细了解此文件，请参阅"),e("a",{attrs:{href:"https://developer.android.google.cn/studio/build#module-level",target:"_blank",rel:"noopener noreferrer"}},[t._v("配置 build"),e("OutboundLink")],1),t._v("。")])])]),t._v(" "),e("h2",{attrs:{id:"应用资源概览"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#应用资源概览"}},[t._v("#")]),t._v(" 应用资源概览")]),t._v(" "),e("p",[t._v("资源是指代码使用的附加文件和静态内容，例如位图、布局定义、界面字符串、动画说明等。")]),t._v(" "),e("p",[t._v("您应始终外部化应用资源（例如图像和代码中的字符串），以便单独对其进行维护。此外，您还应为特定设备配置提供备用资源，方法是将其进行分组并放入专门命名的资源目录中。在运行时，Android 会根据当前配置使用合适的资源。例如，您可能需根据屏幕尺寸提供不同的界面布局，或根据语言设置提供不同的字符串。")]),t._v(" "),e("p",[t._v("外部化应用资源后，您便可使用在项目 "),e("code",[t._v("R")]),t._v(" 类中生成的资源 ID 来访问这些资源。本文档会介绍如何对 Android 项目中的资源进行分组，如何为特定的设备配置提供备用资源，以及如何从您的应用代码或其他 XML 文件访问这些资源。")]),t._v(" "),e("h3",{attrs:{id:"第三方库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三方库"}},[t._v("#")]),t._v(" 第三方库")]),t._v(" "),e("p",[t._v("在 "),e("strong",[t._v("app > libs")]),t._v(" 目录中存放需要使用的第三方的二进制库文件，如JAR，AAR等库文件。")]),t._v(" "),e("h3",{attrs:{id:"业务代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#业务代码"}},[t._v("#")]),t._v(" 业务代码")]),t._v(" "),e("p",[t._v("代码资源主要还是放在 "),e("strong",[t._v("app > main")]),t._v(" 目录下，目前常见有：")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("java 目录")])]),t._v(" "),e("p",[t._v("包含 Java 源代码文件（以软件包名称分隔各文件，包括 JUnit 测试代码）。")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("aidl 目录")])]),t._v(" "),e("p",[t._v("存放 AIDL 接口相关的文件。")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("jni/cpp 目录")])]),t._v(" "),e("p",[t._v("存放包含使用 Java 原生接口 (JNI) 的原生代码，Native 相关开发的C、C++的相关代码文件。")])])]),t._v(" "),e("h3",{attrs:{id:"res资源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#res资源"}},[t._v("#")]),t._v(" res资源")]),t._v(" "),e("p",[t._v("包含所有非代码资源（例如 XML 布局、界面字符串和位图图像），这些资源划分到相应的子目录中。如需详细了解所有可能的资源类型，请参阅"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/providing-resources",target:"_blank",rel:"noopener noreferrer"}},[t._v("提供资源"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[e("strong",[t._v("项目 "),e("code",[t._v("res/")]),t._v(" 支持的资源目录：")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("目录")]),t._v(" "),e("th",[t._v("资源类型")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("animator/")]),t._v(" "),e("td",[t._v("用于定义"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/graphics/prop-animation",target:"_blank",rel:"noopener noreferrer"}},[t._v("属性动画"),e("OutboundLink")],1),t._v("的 XML 文件。")])]),t._v(" "),e("tr",[e("td",[t._v("anim/")]),t._v(" "),e("td",[t._v("用于定义"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/graphics/view-animation#tween-animation",target:"_blank",rel:"noopener noreferrer"}},[t._v("渐变动画"),e("OutboundLink")],1),t._v("的 XML 文件。（属性动画也可保存在此目录中，但为了区分这两种类型，属性动画首选 "),e("code",[t._v("animator/")]),t._v(" 目录。）")])]),t._v(" "),e("tr",[e("td",[t._v("color/")]),t._v(" "),e("td",[t._v("用于定义颜色状态列表的 XML 文件。请参阅"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/color-list-resource",target:"_blank",rel:"noopener noreferrer"}},[t._v("颜色状态列表资源"),e("OutboundLink")],1)])]),t._v(" "),e("tr",[e("td",[t._v("drawable/")]),t._v(" "),e("td",[t._v("位图文件（"),e("code",[t._v(".png")]),t._v("、"),e("code",[t._v(".9.png")]),t._v("、"),e("code",[t._v(".jpg")]),t._v("、"),e("code",[t._v(".gif")]),t._v("）或编译为以下可绘制对象资源子类型的 XML 文件：              位图文件、九宫格（可调整大小的位图）、 状态列表 、形状、动画可绘制对象、其他可绘制对象请参阅: "),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/drawable-resource",target:"_blank",rel:"noopener noreferrer"}},[t._v("Drawable 资源"),e("OutboundLink")],1),t._v("。")])]),t._v(" "),e("tr",[e("td",[t._v("mipmap/")]),t._v(" "),e("td",[t._v("适用于不同启动器图标密度的可绘制对象文件。如需了解有关使用 "),e("code",[t._v("mipmap/")]),t._v(" 文件夹管理启动器图标的详细信息，请参阅"),e("a",{attrs:{href:"https://developer.android.google.cn/tools/projects#mipmap",target:"_blank",rel:"noopener noreferrer"}},[t._v("管理项目概览"),e("OutboundLink")],1),t._v("。")])]),t._v(" "),e("tr",[e("td",[t._v("layout/")]),t._v(" "),e("td",[t._v("用于定义用户界面布局的 XML 文件。请参阅"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/layout-resource",target:"_blank",rel:"noopener noreferrer"}},[t._v("布局资源"),e("OutboundLink")],1),t._v("。")])]),t._v(" "),e("tr",[e("td",[t._v("menu/")]),t._v(" "),e("td",[t._v("用于定义应用菜单（如选项菜单、上下文菜单或子菜单）的 XML 文件。请参阅"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/menu-resource",target:"_blank",rel:"noopener noreferrer"}},[t._v("菜单资源"),e("OutboundLink")],1),t._v("。")])]),t._v(" "),e("tr",[e("td",[t._v("raw/")]),t._v(" "),e("td",[t._v("需以原始形式保存的任意文件。如要使用原始 "),e("code",[t._v("InputStream")]),t._v(" 打开这些资源，请使用资源 ID（即 "),e("code",[t._v("R.raw.*filename*")]),t._v("）调用 "),e("code",[t._v("Resources.openRawResource()")]),t._v("。 "),e("br"),e("br"),t._v(" 但是，如需访问原始文件名和文件层次结构，则可以考虑将某些资源保存在 "),e("code",[t._v("assets/")]),t._v(" 目录（而非 "),e("code",[t._v("res/raw/")]),t._v("）下。"),e("code",[t._v("assets/")]),t._v(" 中的文件没有资源 ID，因此您只能使用 "),e("code",[t._v("AssetManager")]),t._v(" 读取这些文件。")])]),t._v(" "),e("tr",[e("td",[t._v("values/")]),t._v(" "),e("td",[t._v("包含字符串、整型数和颜色等简单值的 XML 文件。"),e("br"),t._v("其他 "),e("code",[t._v("res/")]),t._v(" 子目录中的 XML 资源文件会根据 XML 文件名定义单个资源，而 "),e("code",[t._v("values/")]),t._v(" 目录中的文件可描述多个资源。对于此目录中的文件，"),e("code",[t._v("<resources>")]),t._v(" 元素的每个子元素均会定义一个资源。例如，"),e("code",[t._v("<string>")]),t._v(" 元素会创建 "),e("code",[t._v("R.string")]),t._v(" 资源，"),e("code",[t._v("<color>")]),t._v(" 元素会创建 "),e("code",[t._v("R.color")]),t._v(" 资源。"),e("br"),e("br"),t._v("由于每个资源均使用自己的 XML 元素进行定义，因此您可以随意命名文件，并在某个文件中放入不同的资源类型。但是，您可能需要将独特的资源类型放在不同的文件中，使其一目了然。例如，对于可在此目录中创建的资源，下面给出了相应的文件名约定："),e("br"),t._v("arrays.xml：资源数组（"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/more-resources#TypedArray",target:"_blank",rel:"noopener noreferrer"}},[t._v("类型数组"),e("OutboundLink")],1),t._v("）。"),e("br"),t._v("colors.xml："),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/more-resources#Color",target:"_blank",rel:"noopener noreferrer"}},[t._v("颜色值"),e("OutboundLink")],1),t._v("。"),e("br"),t._v("dimens.xml："),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/more-resources#Dimension",target:"_blank",rel:"noopener noreferrer"}},[t._v("尺寸值"),e("OutboundLink")],1),t._v("。"),e("br"),t._v(" strings.xml："),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/string-resource",target:"_blank",rel:"noopener noreferrer"}},[t._v("字符串值"),e("OutboundLink")],1),t._v("。"),e("br"),t._v("styles.xml："),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/style-resource",target:"_blank",rel:"noopener noreferrer"}},[t._v("样式"),e("OutboundLink")],1),t._v("。"),e("br"),t._v("请参阅"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/string-resource",target:"_blank",rel:"noopener noreferrer"}},[t._v("字符串资源"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/style-resource",target:"_blank",rel:"noopener noreferrer"}},[t._v("样式资源"),e("OutboundLink")],1),t._v("和"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/more-resources",target:"_blank",rel:"noopener noreferrer"}},[t._v("更多资源类型"),e("OutboundLink")],1),t._v("。")])]),t._v(" "),e("tr",[e("td",[t._v("xml/")]),t._v(" "),e("td",[t._v("可在运行时通过调用 "),e("code",[t._v("Resources.getXML()")]),t._v(" 读取的任意 XML 文件。各种 XML 配置文件（如"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/search/searchable-config",target:"_blank",rel:"noopener noreferrer"}},[t._v("可搜索配置"),e("OutboundLink")],1),t._v("）都必须保存在此处。")])]),t._v(" "),e("tr",[e("td",[t._v("font/")]),t._v(" "),e("td",[t._v("带有扩展名的字体文件（如 "),e("code",[t._v(".ttf")]),t._v("、"),e("code",[t._v(".otf")]),t._v(" 或 "),e("code",[t._v(".ttc")]),t._v("），或包含 "),e("code",[t._v("<font-family>")]),t._v(" 元素的 XML 文件。如需详细了解作为资源的字体，请参阅 "),e("a",{attrs:{href:"https://developer.android.google.cn/preview/features/fonts-in-xml",target:"_blank",rel:"noopener noreferrer"}},[t._v("XML 中的字体"),e("OutboundLink")],1),t._v("。")])])])]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"title"},[t._v("提示")]),e("p",[t._v("切勿将资源文件直接保存在 "),e("code",[t._v("res/")]),t._v(" 目录内，因为这样会造成编译错误。")])]),e("h2",{attrs:{id:"访问应用资源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#访问应用资源"}},[t._v("#")]),t._v(" 访问应用资源")]),t._v(" "),e("p",[t._v("在应用中提供资源后，您可通过引用其资源 ID 来应用该资源。所有资源 ID 都在您项目的 "),e("code",[t._v("R")]),t._v(" 类中进行定义，该类由 "),e("code",[t._v("aapt")]),t._v(" 工具自动生成。")]),t._v(" "),e("p",[t._v("编译应用时，"),e("code",[t._v("aapt")]),t._v(" 会生成 "),e("code",[t._v("R")]),t._v(" 类，其中包含 "),e("code",[t._v("res/")]),t._v(" 目录中所有资源的资源 ID。每个资源类型都有对应的 "),e("code",[t._v("R")]),t._v(" 子类（例如，"),e("code",[t._v("R.drawable")]),t._v(" 对应所有可绘制对象资源），而该类型的每个资源都有对应的静态整型数（例如，"),e("code",[t._v("R.drawable.icon")]),t._v("）。该整型数就是可用来检索资源的资源 ID。")]),t._v(" "),e("p",[t._v("尽管资源 ID 是在 "),e("code",[t._v("R")]),t._v(" 类中指定的，但您完全不需要在该类中查找资源 ID。资源 ID 始终由以下部分组成：")]),t._v(" "),e("ul",[e("li",[e("em",[t._v("资源类型")]),t._v("：每个资源都被分到一个“类型”组中，例如 "),e("code",[t._v("string")]),t._v("、"),e("code",[t._v("drawable")]),t._v(" 和 "),e("code",[t._v("layout")]),t._v("。如需了解有关不同类型的详细信息，请参阅"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/available-resources",target:"_blank",rel:"noopener noreferrer"}},[t._v("资源类型"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("li",[e("em",[t._v("资源名称")]),t._v("，它是不包括扩展名的文件名；或是 XML "),e("code",[t._v("android:name")]),t._v(" 属性中的值（如资源是字符串等简单值）。")])]),t._v(" "),e("p",[t._v("访问资源的方法有两种："),e("strong",[t._v("代码中使用")]),t._v("和"),e("strong",[t._v("xml文件中使用")]),t._v("。")]),t._v(" "),e("h3",{attrs:{id:"在代码中访问资源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在代码中访问资源"}},[t._v("#")]),t._v(" 在代码中访问资源")]),t._v(" "),e("p",[t._v("您可以以方法参数的形式传递资源 ID，进而在代码中使用资源。例如，您可以设置一个 "),e("code",[t._v("ImageView")]),t._v("，从而借助 "),e("code",[t._v("setImageResource()")]),t._v(" 使用 "),e("code",[t._v("res/drawable/myimage.png")]),t._v(" 资源：")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ImageView")]),t._v(" imageView "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ImageView")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("findViewById")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("R")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("myimageview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nimageView"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setImageResource")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("R")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("drawable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("myimage"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("您还可利用 "),e("code",[t._v("Resources")]),t._v(" 中的方法检索个别资源，并且您可通过 "),e("code",[t._v("getResources()")]),t._v(" 获得该资源的实例。")]),t._v(" "),e("p",[e("strong",[t._v("语法：")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"},[t._v("代码中引用资源的语法：")]),e("p",[t._v("[<package_name>.]R.<resource_type>.<resource_name>")])]),e("ul",[e("li",[e("em",[e("code",[t._v("<package_name>")])]),t._v(" 是资源所在包的名称（如果引用的资源来自您自己的资源包，则不需要）。")]),t._v(" "),e("li",[e("em",[e("code",[t._v("<resource_type>")])]),t._v(" 是资源类型的 "),e("code",[t._v("R")]),t._v(" 子类。")]),t._v(" "),e("li",[e("em",[e("code",[t._v("<resource_name>")])]),t._v(" 是不带扩展名的资源文件名，或 XML 元素中的 "),e("code",[t._v("android:name")]),t._v(" 属性值（若资源是简单值）。")])]),t._v(" "),e("p",[t._v("如需了解有关各资源类型及其引用方法的详细信息，请参阅"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/available-resources",target:"_blank",rel:"noopener noreferrer"}},[t._v("资源类型"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[e("strong",[t._v("用例：")])]),t._v(" "),e("p",[t._v("许多方法可接受资源 ID 参数，您可利用 "),e("code",[t._v("Resources")]),t._v(" 中的方法检索资源。您可以通过 "),e("code",[t._v("Context.getResources()")]),t._v(" 获得 "),e("code",[t._v("Resources")]),t._v(" 的实例。")]),t._v(" "),e("p",[t._v("以下是一些在代码中访问资源的示例：")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Load a background for the current screen from a drawable resource")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getWindow")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBackgroundDrawableResource")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("R")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("drawable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("my_background_image"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Set the Activity title by getting a string from the Resources object, because")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  this method requires a CharSequence rather than a resource ID")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getWindow")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTitle")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getResources")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getText")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("R")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("main_title"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Load a custom layout for the current screen")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setContentView")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("R")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("layout"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("main_screen"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Set a slide in animation by getting an Animation from the Resources object")]),t._v("\nflipper"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInAnimation")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AnimationUtils")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadAnimation")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("R")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("anim"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hyperspace_in"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Set the text on a TextView object using a resource ID")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TextView")]),t._v(" msgTextView "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TextView")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("findViewById")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("R")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmsgTextView"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setText")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("R")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hello_message"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"title"},[t._v("注意：")]),e("p",[t._v("切勿手动修改 "),e("code",[t._v("R.java")]),t._v(" 文件 — 在您编译项目时，"),e("code",[t._v("aapt")]),t._v(" 工具会生成该文件。下次编译时，所有更改都会被覆盖。")])]),e("h3",{attrs:{id:"在-xml-中访问资源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在-xml-中访问资源"}},[t._v("#")]),t._v(" 在 XML 中访问资源")]),t._v(" "),e("p",[t._v("您可以使用对现有资源的引用，为某些 XML 属性和元素定义值。创建布局文件时，为给您的微件提供字符串和图像，您会经常这样做。")]),t._v(" "),e("p",[t._v("例如，如果您为布局添加 "),e("code",[t._v("Button")]),t._v("，则应为按钮文本使用"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/string-resource",target:"_blank",rel:"noopener noreferrer"}},[t._v("字符串资源"),e("OutboundLink")],1),t._v("：")]),t._v(" "),e("div",{staticClass:"language-xml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Button")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("layout_width")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("fill_parent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("layout_height")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("wrap_content"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("text")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("@string/submit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),e("p",[e("strong",[t._v("语法：")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"},[t._v("XML 资源中引用资源的语法：")]),e("p",[t._v("@[<package_name>:]<resource_type>/<resource_name>")])]),e("ul",[e("li",[e("code",[t._v("<package_name>")]),t._v(" 是资源所在包的名称（如果引用的资源来自相同资源包，则不需要）")]),t._v(" "),e("li",[e("code",[t._v("<resource_type>")]),t._v(" 是资源类型的 "),e("code",[t._v("R")]),t._v(" 子类")]),t._v(" "),e("li",[e("code",[t._v("<resource_name>")]),t._v(" 是不带扩展名的资源文件名，或 XML 元素中的 "),e("code",[t._v("android:name")]),t._v(" 属性值（若资源是简单值）。")])]),t._v(" "),e("p",[t._v("如需了解有关各资源类型及其引用方法的详细信息，请参阅"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/available-resources",target:"_blank",rel:"noopener noreferrer"}},[t._v("资源类型"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[e("strong",[t._v("用例：")])]),t._v(" "),e("p",[t._v("在某些情况下，您必须使用资源作为 XML 中的值（例如，对微件应用可绘制图像），但您也可在 XML 中任何接受简单值的地方使用资源。例如，如果您拥有以下资源文件，其中包括一个"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/more-resources#Color",target:"_blank",rel:"noopener noreferrer"}},[t._v("颜色资源"),e("OutboundLink")],1),t._v("和一个"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/string-resource",target:"_blank",rel:"noopener noreferrer"}},[t._v("字符串资源"),e("OutboundLink")],1),t._v("：")]),t._v(" "),e("div",{staticClass:"language-xml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="utf-8"?>')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("resources")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("color")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("opaque_red"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("#f00"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("color")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("string")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hello"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Hello!"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("resources")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("p",[t._v("在此情况下，您无需在资源引用中指定包名称，因为资源来自您自己的资源包。如要引用系统资源，则您需要加入包名称。")]),t._v(" "),e("p",[t._v("例如：")]),t._v(" "),e("div",{staticClass:"language-xml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="utf-8"?>')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("EditText")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("android")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://schemas.android.com/apk/res/android"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("layout_width")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("fill_parent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("layout_height")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("fill_parent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("textColor")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("@android:color/secondary_text_dark"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("text")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("@string/hello"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),e("p",[t._v("请注意：您应始终使用字符串资源，以便将您的应用本地化为其他语言。如需了解有关创建备用资源（例如本地化字符串）的信息，请参阅"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/providing-resources#AlternativeResources",target:"_blank",rel:"noopener noreferrer"}},[t._v("提供备用资源"),e("OutboundLink")],1),t._v("。如需查看将应用本地化为其他语言的完整指南，请参阅"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/localization",target:"_blank",rel:"noopener noreferrer"}},[t._v("本地化"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[t._v("您甚至可以在 XML 中使用资源创建别名。例如，您可以创建一个可绘制对象资源，将其作为另一个可绘制对象资源的别名：")]),t._v(" "),e("div",{staticClass:"language-xml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="utf-8"?>')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("bitmap")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("android")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://schemas.android.com/apk/res/android"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("src")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("@drawable/other_drawable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),e("p",[t._v("这听起来多余，但对使用备用资源可能很有帮助。阅读更多关于"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/providing-resources#AliasResources",target:"_blank",rel:"noopener noreferrer"}},[t._v("创建别名资源"),e("OutboundLink")],1),t._v("的内容。")]),t._v(" "),e("h4",{attrs:{id:"引用样式属性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#引用样式属性"}},[t._v("#")]),t._v(" 引用样式属性")]),t._v(" "),e("p",[t._v("利用样式属性资源，您可以在当前应用的主题背景中引用某个属性的值。借助引用样式属性，在自定义界面元素的外观时，您无需采用提供硬编码值这种方式，您可以通过为其设置样式，以匹配当前主题背景提供的标准变体来达成目的。引用样式属性的实质作用是，“在当前主题背景中使用此属性定义的样式”。")]),t._v(" "),e("p",[t._v("如要引用样式属性，名称语法几乎与普通资源格式完全相同，区别在于您需将 at 符号 ("),e("code",[t._v("@")]),t._v(") 改为问号 ("),e("code",[t._v("?")]),t._v(")，并且资源类型部分为可选项。")]),t._v(" "),e("p",[t._v("语法：")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"},[t._v("引用样式属性语法：")]),e("p",[t._v("?[<package_name>:][<resource_type>/]<resource_name>")])]),e("p",[t._v("例如，以下代码展示了如何通过引用属性来设置文本颜色设，使其匹配系统主题背景的“基本”文本颜色：")]),t._v(" "),e("div",{staticClass:"language-xml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("EditText")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("layout_width")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("fill_parent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("layout_height")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("wrap_content"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("textColor")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("?android:textColorSecondary"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("text")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("@string/hello_world"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),e("p",[t._v("在以上代码中，"),e("code",[t._v("android:textColor")]),t._v(" 属性指定当前主题背景中某个样式属性的名称。Android 现在会将应用于 "),e("code",[t._v("android:textColorSecondary")]),t._v(" 样式属性的值用作此微件中 "),e("code",[t._v("android:textColor")]),t._v(" 的值。由于系统资源工具知道此环境中肯定存在某个属性资源，因此您无需显式声明类型（类型应为 "),e("code",[t._v("?android:attr/textColorSecondary")]),t._v("）— 您可以将 "),e("code",[t._v("attr")]),t._v(" 类型排除在外。")]),t._v(" "),e("h3",{attrs:{id:"访问原始文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#访问原始文件"}},[t._v("#")]),t._v(" 访问原始文件")]),t._v(" "),e("p",[t._v("尽管并不常见，但您的确有可能需要访问原始文件和目录。如果确有需要，则将文件保存在 "),e("code",[t._v("res/")]),t._v(" 中并没有用，因为从 "),e("code",[t._v("res/")]),t._v(" 读取资源的唯一方法是使用资源 ID。您可以改为将资源保存在 "),e("code",[t._v("assets/")]),t._v(" 目录中。")]),t._v(" "),e("p",[t._v("保存在 "),e("code",[t._v("assets/")]),t._v(" 目录中的文件"),e("em",[t._v("没有")]),t._v("资源 ID，因此您无法通过 "),e("code",[t._v("R")]),t._v(" 类或在 XML 资源中引用它们。您可以改为采用类似普通文件系统的方式查询 "),e("code",[t._v("assets/")]),t._v(" 目录中的文件，并利用 "),e("code",[t._v("AssetManager")]),t._v(" 读取原始数据。")]),t._v(" "),e("p",[t._v("不过，如果您只需要读取原始数据（例如视频文件或音频文件）的能力，则可将文件保存在 "),e("code",[t._v("res/raw/")]),t._v(" 目录中，并利用 "),e("code",[t._v("openRawResource()")]),t._v(" 读取字节流。")]),t._v(" "),e("h3",{attrs:{id:"访问平台资源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#访问平台资源"}},[t._v("#")]),t._v(" 访问平台资源")]),t._v(" "),e("p",[t._v("Android 包含许多标准资源，例如样式、主题背景和布局。如要访问这些资源，请通过 "),e("code",[t._v("android")]),t._v(" 包名称限定您的资源引用。例如，您可以将 Android 提供的布局资源用于 "),e("code",[t._v("ListAdapter")]),t._v(" 中的列表项：")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setListAdapter")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayAdapter")]),e("span",{pre:!0,attrs:{class:"token generics"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("R")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("layout"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("simple_list_item_1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" myarray"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("在上例中，"),e("code",[t._v("simple_list_item_1")]),t._v(" 是平台为 "),e("code",[t._v("ListView")]),t._v(" 中的项目所定义的布局资源。您可以使用该资源，而不必自行创建列表项布局。")]),t._v(" "),e("h2",{attrs:{id:"利用资源提供最佳设备兼容性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#利用资源提供最佳设备兼容性"}},[t._v("#")]),t._v(" 利用资源提供最佳设备兼容性")]),t._v(" "),e("p",[t._v("为使应用支持多种设备配置，请务必为应用使用的每种资源类型"),e("strong",[t._v("提供默认资源")]),t._v("，这一点非常重要。")]),t._v(" "),e("p",[t._v("例如，如果应用支持多种语言，请始终包含"),e("em",[t._v("不带")]),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/providing-resources#LocaleQualifier",target:"_blank",rel:"noopener noreferrer"}},[t._v("语言和区域限定符"),e("OutboundLink")],1),t._v("的 "),e("code",[t._v("values/")]),t._v(" 目录（用于保存字符串）。相反，如果您将所有字符串文件放入带有语言和区域限定符的目录中，且设备语言已设为您的字符串所不支持的语言，则应用在该设备上运行时将崩溃。但是，只要提供默认 "),e("code",[t._v("values/")]),t._v(" 资源，应用便会正常运行（即使用户不理解该语言，但总比崩溃要好）。")]),t._v(" "),e("p",[t._v("同样，如果您根据屏幕方向提供不同的布局资源，则应选择一个方向作为默认方向。例如，不要在 "),e("code",[t._v("layout-land/")]),t._v(" 和 "),e("code",[t._v("layout-port/")]),t._v(" 中分别提供横向和纵向的布局资源，而是保留其一作为默认设置，例如："),e("code",[t._v("layout/")]),t._v(" 用于横向，"),e("code",[t._v("layout-port/")]),t._v(" 用于纵向。")]),t._v(" "),e("p",[t._v("提供默认资源至关重要，这不仅是因为应用可能会在超出预期的配置上运行，也因为新版 Android  有时会添加旧版本不支持的配置限定符。如果您使用新的资源限定符，但希望维持对旧版 Android 的代码兼容性，则当旧版 Android  运行应用时，应用将在无默认资源的情况下崩溃，因为此时它无法使用以新限定符命名的资源。例如，如果您将 "),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/manifest/uses-sdk-element#min",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("minSdkVersion")]),e("OutboundLink")],1),t._v(" 设置为 4，并使用"),e("a",{attrs:{href:"https://developer.android.google.cn/guide/topics/resources/providing-resources#NightQualifier",target:"_blank",rel:"noopener noreferrer"}},[t._v("夜间模式"),e("OutboundLink")],1),t._v("（"),e("code",[t._v("night")]),t._v(" 或 "),e("code",[t._v("notnight")]),t._v("，API 级别 8 中的新增配置）限定所有可绘制对象资源，则 API 级别 4 设备无法访问可绘制对象资源，而且会崩溃。在此情况下，您可能希望 "),e("code",[t._v("notnight")]),t._v(" 成为默认资源，所以您应排除该限定符，使可绘制对象资源位于 "),e("code",[t._v("drawable/")]),t._v(" 或 "),e("code",[t._v("drawable-night/")]),t._v(" 中。")]),t._v(" "),e("p",[e("strong",[t._v("因此，为提供最佳的设备兼容性，请始终为应用正确运行所需的资源提供默认资源。然后，请使用配置限定符为特定的设备配置创建备用资源。")])])])}),[],!1,null,null,null);a.default=r.exports}}]);